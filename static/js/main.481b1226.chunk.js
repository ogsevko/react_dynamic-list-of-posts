(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(5),r=n.n(s),l=n(6),u=n(1);n(12);function o(e){return fetch(e).then((function(e){return e.json()})).catch((function(e){return e}))}var i=function(e){var t=e.comments;return c.a.createElement("ul",{className:"comment-list"},c.a.createElement("h3",null,"Comments:"),t.map((function(e){return c.a.createElement("li",{key:e.id,className:"comment-list__item"},c.a.createElement("h4",null,e.name),c.a.createElement("p",null,e.body),c.a.createElement("span",null,e.email))})))},m=function(e){var t=e.user;return c.a.createElement("div",{key:t.id,className:"post__user"},c.a.createElement("span",null,"".concat(t.name," | ")),c.a.createElement("span",null,"".concat(t.email," | ")),c.a.createElement("span",null,Object.values(t.address).slice(0,Object.values(t.address).length-2).join(", ")))},p=function(e){var t=e.comments,n=e.user,a=e.post;return c.a.createElement("li",{className:"post"},c.a.createElement("h1",null,a.title),c.a.createElement("p",null,a.body),c.a.createElement(m,{user:n}),c.a.createElement(i,{comments:t}))},f=function(e){var t=e.users,n=e.comments,a=e.posts;return c.a.createElement("ul",{className:"post-list"},a.map((function(e){var a=t.find((function(t){return t.id===e.userId})),s=n.filter((function(t){return t.postId===e.id}));return c.a.createElement(p,{key:e.id,comments:s,user:a,post:e})})))},d="https://mate-academy.github.io/react_dynamic-list-of-posts/api/posts.json",E="https://mate-academy.github.io/react_dynamic-list-of-posts/api/users.json",b="https://mate-academy.github.io/react_dynamic-list-of-posts/api/comments.json",h=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),i=Object(u.a)(r,2),m=i[0],p=i[1],h=Object(a.useState)([]),j=Object(u.a)(h,2),v=j[0],y=j[1],O=Object(a.useState)([]),g=Object(u.a)(O,2),_=g[0],k=g[1],N=Object(a.useState)([]),S=Object(u.a)(N,2),w=S[0],x=S[1],C=Object(a.useMemo)((function(){if(""!==m){var e=new RegExp(m,"ig");return v.filter((function(t){return e.test(t.title)||e.test(t.body)}))}return Object(l.a)(v)}),[m,v]);return n?c.a.createElement("span",null,"Loading..."):0===v.length?c.a.createElement("button",{type:"button",onClick:function(){s(!0),o(E).then((function(e){k(e)})),o(d).then((function(e){y(e)})),o(b).then((function(e){x(e)})),s(!1)}},"Load posts"):c.a.createElement("div",{className:"app"},c.a.createElement("span",null,"Search:"),c.a.createElement("input",{type:"text",value:m,onChange:function(e){return t=e.target.value,void p(t);var t}}),c.a.createElement(f,{users:_,comments:w,posts:C}))};r.a.render(c.a.createElement(h,null),document.getElementById("root"))},7:function(e,t,n){e.exports=n(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.481b1226.chunk.js.map